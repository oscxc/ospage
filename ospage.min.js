(function(a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=a}else{window.ospage=a}})(function(r,j,d,n){var m=document.getElementById(r);var e={first:"首页",previous:"上页",next:"下页",last:"尾页",pageIndex:1,pageSize:10,blockCount:10};if(n){for(var A in n){e[A]=n[A]}}var j=j;var l=e.pageSize;var v=e.blockCount;var o=Math.ceil(j/l);var p=e.pageIndex;if(p>o||p<1){alert("真是猪一样的逻辑！");return}var z=p;var a=document.createDocumentFragment();var f=document.createElement("div"),c=document.createElement("div");f.innerHTML=e.first;c.innerHTML=e.previous;f.classList.add("blockCommon");f.classList.add("firstPage");c.classList.add("blockCommon");c.classList.add("previousPage");a.appendChild(f);a.appendChild(c);var s=document.createElement("div"),w=document.createElement("div");s.innerHTML=e.next;w.innerHTML=e.last;s.classList.add("blockCommon");s.classList.add("nextPage");w.classList.add("blockCommon");w.classList.add("lastPage");var g={};var y=addEvents=null;this.skip=null;if(o<=v){(function(){if(o==1){f.skip=c.skip=s.skip=w.skip=0}else{if(p==1){f.skip=c.skip=0,s.slip=2,w.skip=o}else{if(p==o){f.skip=1,c.skip=o-1,s.skip=w.skip=0}else{f.skip=1,c.skip=p-1,s.skip=p+1,w.skip=o}}}for(var B=1;B<=o;B++){g[B]=document.createElement("div");g[B].innerHTML=g[B].skip=B;g[B].classList.add("blockCommon");g[B].classList.add("listPages");a.appendChild(g[B])}a.appendChild(s),a.appendChild(w),m.appendChild(a)}());y=function(){if(f.skip==0){f.classList.add("blockForbidden")}else{if(f.classList.contains("blockForbidden")){f.classList.remove("blockForbidden")}}if(c.skip==0){c.classList.add("blockForbidden")}else{if(c.classList.contains("blockForbidden")){c.classList.remove("blockForbidden")}}g[z].classList.remove("blockActive");g[p].classList.add("blockActive");if(s.skip==0){s.classList.add("blockForbidden")}else{if(s.classList.contains("blockForbidden")){s.classList.remove("blockForbidden")}}if(w.skip==0){w.classList.add("blockForbidden")}else{if(w.classList.contains("blockForbidden")){w.classList.remove("blockForbidden")}}};addEvents=function(){if(o==1){return}f.addEventListener("click",function(){if(f.skip!=0){z=p;p=1;f.skip=c.skip=0;s.skip=1;w.skip=o;y();d(p,o,l,j)}});c.addEventListener("click",function(){if(c.skip!=0){z=p,p-=1;if(p==1){f.skip=c.skip=0}else{f.skip=1;c.skip=p-1}s.skip=p+1;w.skip=o;y();d(p,o,l,j)}});for(var B=1;B<=o;B++){g[B].addEventListener("click",function(){if(this.skip!=p){z=p;p=this.skip;if(p==1){f.skip=c.skip=0;s.skip=p+1;w.skip=o}else{if(p==o){f.skip=1;c.skip=p-1;s.skip=w.skip=0}else{f.skip=1;c.skip=p-1;s.skip=p+1;w.skip=o}}y();d(p,o,l,j)}})}s.addEventListener("click",function(){if(s.skip!=0){z=p;p+=1;if(p==o){s.skip=w.skip=0}else{s.skip=p+1;w.skip=o}f.skip=1,c.skip=p-1;y();d(p,o,l,j)}});w.addEventListener("click",function(){if(w.skip!=0){z=p;p=o;f.skip=1;c.skip=o-1;s.skip=w.skip=0;y();d(p,o,l,j)}})};this.skip=function(i){if(o==1||parseInt(i)>o||parseInt(i)<1||isNaN(parseInt(i))){alert("错误：页数不合理！");return}z=p,p=parseInt(i);if(p==1){f.skip=c.skip=0;s.slip=2;w.skip=o}else{if(p==o){f.skip=1;c.skip=o-1;s.skip=w.skip=0}else{f.skip=1;c.skip=p-1;s.skip=p+1;w.skip=o}}y();d(p,o,l,j)}}else{var k=document.createElement("div");k.innerHTML="...";k.classList.add("blockCommon");k.classList.add("leftPage");a.appendChild(k);for(var u=1;u<=v;u++){g[u]=document.createElement("div");g[u].classList.add("blockCommon");g[u].classList.add("listPages");a.appendChild(g[u])}var x=document.createElement("div");x.innerHTML="...";x.classList.add("blockCommon");x.classList.add("rightPage");a.appendChild(x);a.appendChild(s);a.appendChild(w);var h=Math.ceil(o/v);var q=nThis=Math.ceil(p/v);var t=function(){if(nThis==1){k.skip=0;x.skip=v+1;s.skip=p+1;w.skip=o;if(p==1){f.skip=c.skip=0}else{f.skip=1;c.skip=p-1}for(var B=1;B<=v;B++){g[B].skip=B}}else{if(nThis==h){f.skip=1;c.skip=p-1;k.skip=o-v;x.skip=0;if(p==o){s.skip=w.skip=0}else{s.skip=p+1;w.skip=o}for(var B=1;B<=v;B++){g[B].skip=o-v+B}}else{f.skip=1;c.skip=p-1;k.skip=v*(nThis-1);x.skip=v*nThis+1;s.skip=p+1;w.skip=o;for(var B=1;B<=v;B++){g[B].skip=v*(nThis-1)+B}}}};t();var b=function(){for(var B=1;B<=v;B++){g[B].innerHTML=g[B].skip}};b();m.appendChild(a);y=function(){if(f.skip==0){f.classList.add("blockForbidden")}else{if(f.classList.contains("blockForbidden")){f.classList.remove("blockForbidden")}}if(c.skip==0){c.classList.add("blockForbidden")}else{if(c.classList.contains("blockForbidden")){c.classList.remove("blockForbidden")}}if(k.skip==0){k.classList.add("blockDisplayNone")}else{if(k.classList.contains("blockDisplayNone")){k.classList.remove("blockDisplayNone")}}if(q!=h){var i=z%v;if(i!=0){g[i].classList.remove("blockActive")}else{g[v].classList.remove("blockActive")}}else{var B=o-z;if(B!=0){g[v-B].classList.remove("blockActive")}else{g[v].classList.remove("blockActive")}}if(nThis!=h){var i=p%v;if(i!=0){g[i].classList.add("blockActive")}else{g[v].classList.add("blockActive")}}else{var B=o-p;if(B!=0){g[v-B].classList.add("blockActive")}else{g[v].classList.add("blockActive")}}if(x.skip==0){x.classList.add("blockDisplayNone")}else{if(x.classList.contains("blockDisplayNone")){x.classList.remove("blockDisplayNone")}}if(s.skip==0){s.classList.add("blockForbidden")}else{if(s.classList.contains("blockForbidden")){s.classList.remove("blockForbidden")}}if(w.skip==0){w.classList.add("blockForbidden")}else{if(w.classList.contains("blockForbidden")){w.classList.remove("blockForbidden")}}};addEvents=function(){f.addEventListener("click",function(){if(f.skip!=0){z=p;p=1;q=nThis;nThis=Math.ceil(p/v);f.skip=c.skip=k.skip=0;for(var C=1;C<=v;C++){g[C].skip=C}x.skip=v+1;s.skip=2;w.skip=o;b();y();d(p,o,l,j)}});c.addEventListener("click",function(){if(this.skip!=0){z=p;p-=1;s.skip=p+1;w.skip=o;if(nThis==1){if(p!=1){f.skip=1;c.skip=p-1}else{f.skip=c.skip=0}x.skip=v+1}else{if(p!=1){f.skip=1;this.skip=p-1}else{f.skip=this.skip=0}if(g[1].skip==z){q=nThis;nThis=Math.ceil(p/v);if(nThis==1){k.skip=0}else{k.skip=v*(nThis-1)}for(var C=1;C<=v;C++){g[C].skip=v*(nThis-1)+C}x.skip=v*nThis+1;b()}else{if(nThis!=h){q=nThis;nThis=Math.ceil(p/v)}else{q=nThis}}}y(),d(p,o,l,j)}});k.addEventListener("click",function(){z=p;p=k.skip;q=nThis;nThis=Math.ceil(p/v);if(p!=1){f.skip=1;c.skip=p-1}else{f.skip=c.skip=0}for(var C=1;C<=v;C++){g[C].skip=v*(nThis-1)+C}if(nThis==1){this.skip=0}else{this.skip=g[1].skip-1}x.skip=g[v].skip+1;s.skip=p+1;w.skip=o;b();y();d(p,o,l,j)});for(var B=1;B<=v;B++){g[B].addEventListener("click",function(){if(p==this.skip){return}q=nThis;z=p;p=this.skip;if(p==1){f.skip=c.skip=k.skip=0;x.skip=g[v].skip+1;s.skip=2;w.skip=o}else{if(p==o){f.skip=1;c.skip=p-1;k.skip=g[1].skip-1;x.skip=s.skip=w.skip=0}else{f.skip=1;c.skip=p-1;if(nThis==h){k.skip=g[1].skip-1;x.skip=0}else{if(nThis==1){k.skip=0;x.skip=g[v].skip+1}else{k.skip=g[1].skip-1;x.skip=g[v].skip+1}}s.skip=p+1;w.skip=o}}y();d(p,o,l,j)})}x.addEventListener("click",function(){z=p;p=x.skip;q=nThis;nThis=Math.ceil(p/v);f.skip=1;c.skip=p-1;if(nThis==h){for(var C=1;C<=v;C++){g[C].skip=o-v+C}this.skip=0}else{for(var C=1;C<=v;C++){g[C].skip=v*(nThis-1)+C}this.skip=g[v].skip+1}k.skip=g[1].skip-1;if(p!=o){s.skip=p+1;w.skip=o}else{s.skip=w.skip=0}b();y();d(p,o,l,j)});s.addEventListener("click",function(){if(this.skip!=0){z=p;p+=1;f.skip=1;c.skip=p-1;if(nThis==h){q=nThis;if(p==o){s.skip=w.skip=0}else{s.skip=p+1;w.skip=o}k.skip=o-v}else{if(p!=o){s.skip=p+1;w.skip=o}else{s.skip=w.skip=0}if(g[v].skip==z){q=nThis;nThis=Math.ceil(p/v);if(nThis==h){for(var C=1;C<=v;C++){g[C].skip=o-v+C}x.skip=0}else{for(var C=1;C<=v;C++){g[C].skip=v*(nThis-1)+C}x.skip=v*nThis+1}k.skip=g[1].skip-1;b()}else{q=nThis}}y();d(p,o,l,j)}});w.addEventListener("click",function(){if(w.skip!=0){z=p;p=o;q=nThis;nThis=Math.ceil(p/v);f.skip=1;c.skip=o-1;k.skip=o-v;for(var C=1;C<=v;C++){g[C].skip=o-v+C}x.skip=s.skip=w.skip=0;b();y();if(nThis==h){q=nThis}d(p,o,l,j)}})};this.skip=function(i){if(parseInt(i)>o||parseInt(i)<1||isNaN(parseInt(i))){alert("错误：页数不合理！");return}z=p;p=parseInt(i);q=nThis;nThis=Math.ceil(p/v);t();b();y();d(p,o,l,j)}}y();addEvents();d(p,o,l,j)});